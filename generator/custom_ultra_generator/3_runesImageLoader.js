var fs = require('fs');
var request = require('request');

var URL = ["https://gamepedia.cursecdn.com/diablo_gamepedia/thumb/9/92/El_Rune.png/28px-El_Rune.png?version=40ed414f3f15a8f22ea9e293a31a9303" , "https://gamepedia.cursecdn.com/diablo_gamepedia/thumb/6/64/Eld_Rune.png/28px-Eld_Rune.png?version=86444d043b005e3c68b39f27fd3bbb3a" , "https://gamepedia.cursecdn.com/diablo_gamepedia/thumb/6/64/Eld_Rune.png/28px-Eld_Rune.png?version=86444d043b005e3c68b39f27fd3bbb3a" , "https://gamepedia.cursecdn.com/diablo_gamepedia/thumb/3/33/Tir_Rune.png/28px-Tir_Rune.png?version=d8779da8bd235c9a99b301565cdea0cb" , "https://gamepedia.cursecdn.com/diablo_gamepedia/thumb/3/33/Tir_Rune.png/28px-Tir_Rune.png?version=d8779da8bd235c9a99b301565cdea0cb" , "https://gamepedia.cursecdn.com/diablo_gamepedia/thumb/c/cb/Nef_Rune.png/28px-Nef_Rune.png?version=a04c8898cf489809322a5b37dfbe7ac3" , "https://gamepedia.cursecdn.com/diablo_gamepedia/thumb/c/cb/Nef_Rune.png/28px-Nef_Rune.png?version=a04c8898cf489809322a5b37dfbe7ac3" , "https://gamepedia.cursecdn.com/diablo_gamepedia/thumb/9/9e/Eth_Rune.png/28px-Eth_Rune.png?version=1e09c37c14ac21bf195682ce0cb10680" , "https://gamepedia.cursecdn.com/diablo_gamepedia/thumb/9/9e/Eth_Rune.png/28px-Eth_Rune.png?version=1e09c37c14ac21bf195682ce0cb10680" , "https://gamepedia.cursecdn.com/diablo_gamepedia/thumb/7/77/Ith_Rune.png/28px-Ith_Rune.png?version=ea7be0223f443a5b060dc45e4d196eeb" , "https://gamepedia.cursecdn.com/diablo_gamepedia/thumb/7/77/Ith_Rune.png/28px-Ith_Rune.png?version=ea7be0223f443a5b060dc45e4d196eeb" , "https://gamepedia.cursecdn.com/diablo_gamepedia/thumb/3/35/Tal_Rune.png/28px-Tal_Rune.png?version=508e8126fc5a0dfaf633b3462ff49920" , "https://gamepedia.cursecdn.com/diablo_gamepedia/thumb/3/35/Tal_Rune.png/28px-Tal_Rune.png?version=508e8126fc5a0dfaf633b3462ff49920" , "https://gamepedia.cursecdn.com/diablo_gamepedia/thumb/4/47/Ral_Rune.png/28px-Ral_Rune.png?version=c69bd9d14f6d487204941442b2f77ca3" , "https://gamepedia.cursecdn.com/diablo_gamepedia/thumb/4/47/Ral_Rune.png/28px-Ral_Rune.png?version=c69bd9d14f6d487204941442b2f77ca3" , "https://gamepedia.cursecdn.com/diablo_gamepedia/thumb/4/40/Ort_Rune.png/28px-Ort_Rune.png?version=1013c3c7b3f65048c9d99664209505b2" , "https://gamepedia.cursecdn.com/diablo_gamepedia/thumb/4/40/Ort_Rune.png/28px-Ort_Rune.png?version=1013c3c7b3f65048c9d99664209505b2" , "https://gamepedia.cursecdn.com/diablo_gamepedia/thumb/d/df/Thul_Rune.png/28px-Thul_Rune.png?version=fc68d439119ba7c5c0b9708625b9b8d0" , "https://gamepedia.cursecdn.com/diablo_gamepedia/thumb/d/df/Thul_Rune.png/28px-Thul_Rune.png?version=fc68d439119ba7c5c0b9708625b9b8d0" , "https://gamepedia.cursecdn.com/diablo_gamepedia/4/40/Chipped_Topaz_%28Diablo_II%29.gif?version=70cbc22d71372ea6714d75a18d08ce75" , "https://gamepedia.cursecdn.com/diablo_gamepedia/thumb/5/5a/Amn_Rune.png/28px-Amn_Rune.png?version=9bc2f3ace8449c61ad5d7d5180698224" , "https://gamepedia.cursecdn.com/diablo_gamepedia/thumb/5/5a/Amn_Rune.png/28px-Amn_Rune.png?version=9bc2f3ace8449c61ad5d7d5180698224" , "https://gamepedia.cursecdn.com/diablo_gamepedia/6/6e/Chipped_Amethyst_%28Diablo_II%29.gif?version=ddd2f181681bd187cf81793b202915f1" , "https://gamepedia.cursecdn.com/diablo_gamepedia/thumb/d/de/Sol_Rune.png/28px-Sol_Rune.png?version=b3665e071fb15e2a7c46cae2f7122e0e" , "https://gamepedia.cursecdn.com/diablo_gamepedia/thumb/d/de/Sol_Rune.png/28px-Sol_Rune.png?version=b3665e071fb15e2a7c46cae2f7122e0e" , "https://gamepedia.cursecdn.com/diablo_gamepedia/6/68/Chipped_Sapphire_%28Diablo_II%29.gif?version=414cdb02fc4636d52ba2c0f64dd9056e" , "https://gamepedia.cursecdn.com/diablo_gamepedia/thumb/5/53/Shael_Rune.png/28px-Shael_Rune.png?version=c119e8aaa89d5a1a70dd16f6514a9f9b" , "https://gamepedia.cursecdn.com/diablo_gamepedia/thumb/5/53/Shael_Rune.png/28px-Shael_Rune.png?version=c119e8aaa89d5a1a70dd16f6514a9f9b" , "https://gamepedia.cursecdn.com/diablo_gamepedia/5/5a/Chipped_Ruby_%28Diablo_II%29.gif?version=ae0b12d64f61a85b0128a0493d9bdb12" , "https://gamepedia.cursecdn.com/diablo_gamepedia/thumb/5/53/Dol_Rune.png/28px-Dol_Rune.png?version=87fac0a2ad90b0f1f606995d50f3b6d8" , "https://gamepedia.cursecdn.com/diablo_gamepedia/thumb/5/53/Dol_Rune.png/28px-Dol_Rune.png?version=87fac0a2ad90b0f1f606995d50f3b6d8" , "https://gamepedia.cursecdn.com/diablo_gamepedia/f/f8/Chipped_Emerald_%28Diablo_II%29.gif?version=3d243769376f5848f6a80e53f1788ec6" , "https://gamepedia.cursecdn.com/diablo_gamepedia/thumb/5/56/Hel_Rune.png/28px-Hel_Rune.png?version=2a62a53d2bb51d1ad8e1a4faddc075d2" , "https://gamepedia.cursecdn.com/diablo_gamepedia/thumb/5/56/Hel_Rune.png/28px-Hel_Rune.png?version=2a62a53d2bb51d1ad8e1a4faddc075d2" , "https://gamepedia.cursecdn.com/diablo_gamepedia/2/29/Chipped_Diamond_%28Diablo_II%29.gif?version=fcce8518fd4d44cf7725847f4803b897" , "https://gamepedia.cursecdn.com/diablo_gamepedia/thumb/d/de/Io_Rune.png/28px-Io_Rune.png?version=8352007430d5be1e6cc03daae4126e8f" , "https://gamepedia.cursecdn.com/diablo_gamepedia/thumb/d/de/Io_Rune.png/28px-Io_Rune.png?version=8352007430d5be1e6cc03daae4126e8f" , "https://gamepedia.cursecdn.com/diablo_gamepedia/b/b9/Flawed_Topaz_%28Diablo_II%29.gif?version=5a1c7d7891eb1781cc59021c4462bb87" , "https://gamepedia.cursecdn.com/diablo_gamepedia/thumb/d/d7/Lum_Rune.png/28px-Lum_Rune.png?version=136748c251eeea0d1c5b790840dec197" , "https://gamepedia.cursecdn.com/diablo_gamepedia/thumb/d/d7/Lum_Rune.png/28px-Lum_Rune.png?version=136748c251eeea0d1c5b790840dec197" , "https://gamepedia.cursecdn.com/diablo_gamepedia/3/37/Flawed_Amethyst_%28Diablo_II%29.gif?version=cfb6a1c1696c1348874a03fa6c401199" , "https://gamepedia.cursecdn.com/diablo_gamepedia/thumb/f/ff/Ko_Rune.png/28px-Ko_Rune.png?version=f1ab8491cf2b496dde74fb1f4dffad14" , "https://gamepedia.cursecdn.com/diablo_gamepedia/thumb/f/ff/Ko_Rune.png/28px-Ko_Rune.png?version=f1ab8491cf2b496dde74fb1f4dffad14" , "https://gamepedia.cursecdn.com/diablo_gamepedia/f/f8/Flawed_Sapphire_%28Diablo_II%29.gif?version=22b001d46a4631fb2e8c8ac569f654df" , "https://gamepedia.cursecdn.com/diablo_gamepedia/thumb/d/da/Fal_Rune.png/28px-Fal_Rune.png?version=b0c975776d814f0d933bdfbb4a2acf7a" , "https://gamepedia.cursecdn.com/diablo_gamepedia/thumb/d/da/Fal_Rune.png/28px-Fal_Rune.png?version=b0c975776d814f0d933bdfbb4a2acf7a" , "https://gamepedia.cursecdn.com/diablo_gamepedia/b/b3/Flawed_Ruby_%28Diablo_II%29.gif?version=82c9548f5a8634f2ab92f11ec5f01816" , "https://gamepedia.cursecdn.com/diablo_gamepedia/thumb/c/c1/Lem_Rune.png/28px-Lem_Rune.png?version=1135fe12f82fbb5b5e7265bc10ea2d86" , "https://gamepedia.cursecdn.com/diablo_gamepedia/thumb/c/c1/Lem_Rune.png/28px-Lem_Rune.png?version=1135fe12f82fbb5b5e7265bc10ea2d86" , "https://gamepedia.cursecdn.com/diablo_gamepedia/8/8d/Flawed_Emerald_%28Diablo_II%29.gif?version=2304ce648cf87a6bdfe16ab2f774502a" , "https://gamepedia.cursecdn.com/diablo_gamepedia/thumb/2/24/Pul_Rune.png/28px-Pul_Rune.png?version=6591b48292ff79cf0472e26453d3535e" , "https://gamepedia.cursecdn.com/diablo_gamepedia/thumb/2/24/Pul_Rune.png/28px-Pul_Rune.png?version=6591b48292ff79cf0472e26453d3535e" , "https://gamepedia.cursecdn.com/diablo_gamepedia/7/75/Flawed_Diamond_%28Diablo_II%29.gif?version=f557dcaba3c98319119670ff5ade2910" , "https://gamepedia.cursecdn.com/diablo_gamepedia/thumb/4/4c/Um_Rune.png/28px-Um_Rune.png?version=fb23adbc144ed93d70fb5ff500d116ab" , "https://gamepedia.cursecdn.com/diablo_gamepedia/thumb/4/4c/Um_Rune.png/28px-Um_Rune.png?version=fb23adbc144ed93d70fb5ff500d116ab" , "https://gamepedia.cursecdn.com/diablo_gamepedia/a/a6/Topaz_%28Diablo_II%29.gif?version=c7c6c8f355a272ca603947d5727eaa35" , "https://gamepedia.cursecdn.com/diablo_gamepedia/thumb/3/39/Mal_Rune.png/28px-Mal_Rune.png?version=654a5331ceb5cb3b44d500006a244b47" , "https://gamepedia.cursecdn.com/diablo_gamepedia/thumb/3/39/Mal_Rune.png/28px-Mal_Rune.png?version=654a5331ceb5cb3b44d500006a244b47" , "https://gamepedia.cursecdn.com/diablo_gamepedia/4/49/Amethyst_%28Diablo_II%29.gif?version=d551d5bbecd607acd83d2f4cad622994" , "https://gamepedia.cursecdn.com/diablo_gamepedia/thumb/3/37/Ist_Rune.png/28px-Ist_Rune.png?version=5f3231ecba9f99a5e9b3d95cb12640fc" , "https://gamepedia.cursecdn.com/diablo_gamepedia/thumb/3/37/Ist_Rune.png/28px-Ist_Rune.png?version=5f3231ecba9f99a5e9b3d95cb12640fc" , "https://gamepedia.cursecdn.com/diablo_gamepedia/e/ed/Sapphire_%28Diablo_II%29.gif?version=71f998f32f0e0f2299f7fd49869858c7" , "https://gamepedia.cursecdn.com/diablo_gamepedia/thumb/a/ad/Gul_Rune.png/28px-Gul_Rune.png?version=f06fd33d23f0d4522b4428aab7d658e1" , "https://gamepedia.cursecdn.com/diablo_gamepedia/thumb/a/ad/Gul_Rune.png/28px-Gul_Rune.png?version=f06fd33d23f0d4522b4428aab7d658e1" , "https://gamepedia.cursecdn.com/diablo_gamepedia/7/73/Ruby_%28Diablo_II%29.gif?version=bdaa064677438584358c00e8c089d018" , "https://gamepedia.cursecdn.com/diablo_gamepedia/thumb/e/e1/Vex_Rune.png/28px-Vex_Rune.png?version=a049cc52c368e18f904d0efb4b44b24c" , "https://gamepedia.cursecdn.com/diablo_gamepedia/thumb/e/e1/Vex_Rune.png/28px-Vex_Rune.png?version=a049cc52c368e18f904d0efb4b44b24c" , "https://gamepedia.cursecdn.com/diablo_gamepedia/7/74/Emerald_%28Diablo_II%29.gif?version=d5bc040b9bf5ea09cc1db37e347c25c8" , "https://gamepedia.cursecdn.com/diablo_gamepedia/thumb/c/c7/Ohm_Rune.png/28px-Ohm_Rune.png?version=51fb00df423de918190679ec66320c5d" , "https://gamepedia.cursecdn.com/diablo_gamepedia/thumb/c/c7/Ohm_Rune.png/28px-Ohm_Rune.png?version=51fb00df423de918190679ec66320c5d" , "https://gamepedia.cursecdn.com/diablo_gamepedia/9/92/Diamond_%28Diablo_II%29.gif?version=a11671fb21215727f8faa6971387dc8c" , "https://gamepedia.cursecdn.com/diablo_gamepedia/thumb/c/cd/Lo_Rune.png/28px-Lo_Rune.png?version=2bcd6c667d99a66ed96212e6686536f3" , "https://gamepedia.cursecdn.com/diablo_gamepedia/thumb/c/cd/Lo_Rune.png/28px-Lo_Rune.png?version=2bcd6c667d99a66ed96212e6686536f3" , "https://gamepedia.cursecdn.com/diablo_gamepedia/7/7f/Flawless_Topaz_%28Diablo_II%29.gif?version=936320b38912de6303c511b53019bfbb" , "https://gamepedia.cursecdn.com/diablo_gamepedia/thumb/b/b3/Sur_Rune.png/28px-Sur_Rune.png?version=624bb776d90596f32b979dd8174a564a" , "https://gamepedia.cursecdn.com/diablo_gamepedia/thumb/b/b3/Sur_Rune.png/28px-Sur_Rune.png?version=624bb776d90596f32b979dd8174a564a" , "https://gamepedia.cursecdn.com/diablo_gamepedia/f/f1/Flawless_Amethyst_%28Diablo_II%29.gif?version=815210ed4833e50d1c5f6de986a3690d" , "https://gamepedia.cursecdn.com/diablo_gamepedia/thumb/7/7e/Ber_Rune.png/28px-Ber_Rune.png?version=89856574f3a1a5cd4b7cf2ad585bc9bc" , "https://gamepedia.cursecdn.com/diablo_gamepedia/thumb/7/7e/Ber_Rune.png/28px-Ber_Rune.png?version=89856574f3a1a5cd4b7cf2ad585bc9bc" , "https://gamepedia.cursecdn.com/diablo_gamepedia/5/57/Flawless_Sapphire_%28Diablo_II%29.gif?version=3b1246c75c03022e2753d9fa11b81c81" , "https://gamepedia.cursecdn.com/diablo_gamepedia/thumb/3/3f/Jah_Rune.png/28px-Jah_Rune.png?version=8e0d59b677b344b42bbe7fb8ef35ea27" , "https://gamepedia.cursecdn.com/diablo_gamepedia/thumb/3/3f/Jah_Rune.png/28px-Jah_Rune.png?version=8e0d59b677b344b42bbe7fb8ef35ea27" , "https://gamepedia.cursecdn.com/diablo_gamepedia/c/c4/Flawless_Ruby_%28Diablo_II%29.gif?version=8d0747d7b801e40a02ac46b06820055f" , "https://gamepedia.cursecdn.com/diablo_gamepedia/thumb/8/8c/Cham_Rune.png/28px-Cham_Rune.png?version=2608f5814a8c010f0dddc16a3a7f1c8d" , "https://gamepedia.cursecdn.com/diablo_gamepedia/thumb/8/8c/Cham_Rune.png/28px-Cham_Rune.png?version=2608f5814a8c010f0dddc16a3a7f1c8d" , "https://gamepedia.cursecdn.com/diablo_gamepedia/1/18/Flawless_Emerald_%28Diablo_II%29.gif?version=726951881a9a73d32ddae9ac92246cff" , "https://gamepedia.cursecdn.com/diablo_gamepedia/thumb/e/e0/Zod_Rune.png/28px-Zod_Rune.png?version=b88a6441e3d357fbef58a984ea924760"]


var download = function(uri, filename, callback){
  request.head(uri, function(err, res, body){
    request(uri).pipe(fs.createWriteStream('img/runes/' +filename)).on('close', callback);
  });
};
const filenameReg = new RegExp(/[^/\\&\?]+\.\w{3,4}(?=([\?&].*$|$))/g);
for (let image of URL){
	var filename = image.match(filenameReg)[0];
	filename = decodeURI(filename);
	console.log(filename)
	download(image, filename, ()=>{
	  console.log('done ' + filename);
	});
}	